var strict;!function(a,b){a.fn.nearest=function(c){function j(b){e=e?e.add(b):a(b)}var d,e,f,g,h,i=b.querySelectorAll;return this.each(function(){d=this,a.each(c.split(","),function(){if(g=a.trim(this),g.indexOf("#"))for(h=d.parentNode;h;){if(f=i?h.querySelectorAll(g):a(h).find(g),f.length){j(f);break}h=h.parentNode}else j(i?b.querySelectorAll(g):a(g))})}),e||a()}}(jQuery,document),function(a){a.fn.textWidth=function(b,c){return a.fn.textWidth.fakeEl||(a.fn.textWidth.fakeEl=a("<span>").hide().appendTo(document.body)),a.fn.textWidth.fakeEl.text(b||this.val()||this.text()).css("font",c||this.css("font")),a.fn.textWidth.fakeEl.width()}}(jQuery),jQuery(document).ready(function(a){function b(){setTimeout(function(){"1"==mashsb.refresh&&e()},6e3)}function e(){var a=window.location.href;a+=a.indexOf("?")>-1?"&mashsb-refresh":"?mashsb-refresh";var b=new XMLHttpRequest;b.open("GET",a,!0),b.send()}function f(a){if("undefined"!=typeof mashsb&&1==mashsb.round_shares){if(a>1e6)return shares=Math.round(a/1e6*10)/10+"M",shares;if(a>1e3)return shares=Math.round(a/1e3*10)/10+"k",shares}return a.toFixed(0)}function g(){function f(){var a=j();console.log("average width : "+a),d.css({width:a+"px","min-width":a+"px","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box","text-align":"center",overflow:"hidden"}),g()}function g(){if(!(d.length<5)){var b=j(),c="-"+2*b+"px";d.find("span:first").css({display:"inline-block",overflow:"hidden",height:"16px"}),d.find("span.icon").css({display:"inline-block",float:"left"}),d.find("span.text").css({display:"inline-block",float:"left","margin-right":c}),d.hover(function(){var c=a(this),e=c.find("span.text"),f=c.find("span.icon"),g=e[0].getBoundingClientRect().width+f[0].getBoundingClientRect().width+1,h=c.width(),j=h-g;if(j<0){j=Math.abs(j);var k=d.not(c),l=c[0].getBoundingClientRect().width,m=i(l-j/k.length);k.each(function(b,c){a(c).animate({width:m+"px","min-width":m+"px"},0)}),c.animate({width:b+j+"px"},500),a(this).find("span.text").animate({"margin-right":0},1e3)}else a(this).find("span.text").animate({"margin-right":0},500)},function(){var b=a(this),e=j();b.find("span.text").animate({"margin-right":c},500),b[0].getBoundingClientRect().width>e&&d.stop(!0,!0).animate({width:e+"px","min-width":e+"px"},0)})}}function h(a){a=a.split("&");var c,b=a.length;if(1==b)return a[0];for(c=0;c<b;c++)if(a[c].startsWith("action="))return a[c].replace("action=","");return""}function i(a,b){return b=b||0,Math.floor(a*Math.pow(10,b))/Math.pow(10,b)}function j(){var m,b=a("aside.mashsb-container.mashsb-main"),c=b.find(".mashsb-buttons"),e=b.find(".mashsb-box > .mashsb-count"),f=e.length>0&&e.is(":visible"),g=c.find(".mashpv.mashsb-count"),h=g.is(":visible"),j=c.find(".onoffswitch"),k=j.is(":visible"),l=0;return j.css("margin-right",0),f===!0&&(l+=e.outerWidth(!0)),h===!0&&(l+=g.outerWidth(!0)),k===!0&&(l+=j.outerWidth(!0)),m=(c[0].getBoundingClientRect().width-l)/d.length,isNaN(m)?void console.log("Couldn't calculate average width"):(m<0&&(m=Math.abs(m)),m-=d.first().outerWidth(!0)-d.first().outerWidth(),m=i(m,2))}if(1==mashsb.responsive_buttons){var b={},c={},d=a("aside.mashsb-container.mashsb-main > .mashsb-box > .mashsb-buttons > a[class^='mashicon-']:visible:not(.secondary-shares a)"),e=a("aside.mashsb-container .secondary-shares");b.open=XMLHttpRequest.prototype.open,b.send=XMLHttpRequest.prototype.send,b.callback=function(){"mashpv_get_views"===this.action&&(console.log("Get views is called"),setTimeout(function(){f()},1100)),clearInterval(c[this.action])},XMLHttpRequest.prototype.open=function(a,c){a||(a=""),c||(c=""),b.open.apply(this,arguments),b.method=a,b.url=c,"get"===a.toLowerCase()&&(b.data=c.split("?"),b.data=b.data[1],b.action=h(b.data))},XMLHttpRequest.prototype.send=function(a,d){b.send.apply(this,arguments),"post"===b.method.toLowerCase()&&(b.data=a,b.action=h(b.data));var e=this;c[b.action]=window.setInterval(function(){4!=e.readyState&&200!=e.status||b.callback()},100)},a("body").on("click",".onoffswitch",function(){e.css("display","block"),setTimeout(function(){f()},200)}).on("click",".onoffswitch2",function(){f()}),a(window).resize(function(){f()}),1==mashsb.animate_shares?setTimeout(function(){f()},500):f()}}b(),a(".onoffswitch").on("click",function(){var b=a(this).parents(".mashsb-container");b.find(".onoffswitch").hide(),b.find(".secondary-shares").show(),b.find(".onoffswitch2").show()}),a(".onoffswitch2").on("click",function(){var b=a(this).parents(".mashsb-container");b.find(".onoffswitch").show(),b.find(".secondary-shares").hide()}),"undefined"==typeof lashare_fb&&"undefined"!=typeof mashsb&&a(".mashicon-facebook").click(function(b){winWidth=520,winHeight=550;var c=screen.height/2-winHeight/2,d=screen.width/2-winWidth/2,e=a(this).attr("href");return window.open(e,"sharer","top="+c+",left="+d+",toolbar=0,status=0,width="+winWidth+",height="+winHeight),b.preventDefault(b),!1}),"undefined"!=typeof mashsb&&a(".mashicon-twitter").click(function(b){winWidth=520,winHeight=350;var c=screen.height/2-winHeight/2,d=screen.width/2-winWidth/2,e=a(this).attr("href");return"1"===mashsb.twitter_popup&&window.open(e,"sharer","top="+c+",left="+d+",toolbar=0,status=0,width="+winWidth+",height="+winHeight),b.preventDefault(),!1}),"undefined"!=typeof mashsb&&"content"===mashsb.subscribe&&(jQuery(".mashicon-subscribe").not(".trigger_active").nearest(".mashsb-toggle-container").hide(),jQuery(".mashicon-subscribe").click(function(){var a=jQuery(this);return a.hasClass("trigger_active")?(jQuery(a).nearest(".mashsb-toggle-container").slideToggle("fast"),a.removeClass("trigger_active")):(jQuery(".trigger_active").nearest(".mashsb-toggle-container").slideToggle("slow"),jQuery(".trigger_active").removeClass("trigger_active"),jQuery(a).nearest(".mashsb-toggle-container").slideToggle("fast"),a.addClass("trigger_active")),!1})),"undefined"!=typeof mashsb&&"link"===mashsb.subscribe&&a(".mashicon-subscribe").click(function(){var b=mashsb.subscribe_url;a(this).attr("href",b)}),g(),function(a){a.fn.countTo=function(b){return b=b||{},a(this).each(function(){function k(){i+=e,h++,l(i),"function"==typeof c.onUpdate&&c.onUpdate.call(f,i),h>=d&&(g.removeData("countTo"),clearInterval(j.interval),i=c.to,"function"==typeof c.onComplete&&c.onComplete.call(f,i))}function l(a){var b=c.formatter.call(f,a,c);g.text(b)}var c=a.extend({},a.fn.countTo.defaults,{from:a(this).data("from"),to:a(this).data("to"),speed:a(this).data("speed"),refreshInterval:a(this).data("refresh-interval"),decimals:a(this).data("decimals")},b),d=Math.ceil(c.speed/c.refreshInterval),e=(c.to-c.from)/d,f=this,g=a(this),h=0,i=c.from,j=g.data("countTo")||{};g.data("countTo",j),j.interval&&clearInterval(j.interval),j.interval=setInterval(k,c.refreshInterval),l(i)})},a.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:f,onUpdate:null,onComplete:null}}(jQuery),"undefined"!=typeof mashsb&&1==mashsb.animate_shares&&a(".mashsbcount").length&&a(".mashsbcount").countTo({from:0,to:mashsb.shares,speed:1e3,refreshInterval:100})});